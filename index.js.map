{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/loader.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector('.gallery');\n\nconst lightBox = new SimpleLightbox('.gallery .gallery-item a', {\n  captionDelay: 250, //ms\n  captionsData: 'alt',\n});\nwindow.qwerty = lightBox;\nfunction renderGallery(data) {\n  let markup = '';\n  let x = '';\n  data.hits.forEach(item => {\n    markup += `\n        <li class=\"gallery-item\">\n            <a href=\"${item.largeImageURL}\">\n                <div class=\"image-wrapper\"><img src=\"${item.webformatURL}\" alt=\"${item.tags}\" /></div>\n                <ul class=\"image-description\">\n                    <li class=\"gallery-description\">\n                        <h3 class=\"description-title\">Likes</h3>\n                        <p class=\"description-value\">${item.likes}</p>\n                    </li>\n                    <li class=\"gallery-description\">\n                        <h3 class=\"description-title\">Views</h3>\n                        <p class=\"description-value\">${item.views}</p>\n                    </li>\n                    <li class=\"gallery-description\">\n                        <h3 class=\"description-title\">Comments</h3>\n                        <p class=\"description-value\">${item.comments}</p>\n                    </li>\n                    <li class=\"gallery-description\">\n                        <h3 class=\"description-title\">Downloads</h3>\n                        <p class=\"description-value\">${item.downloads}</p>\n                    </li>\n                </ul>\n            </a>\n        </li>\n        `;\n  });\n  gallery.innerHTML = markup + '<li class=\"gallery-item\">';\n  //   gallery.innerHTML = `<ul>${markup}</ul>`;\n  lightBox.refresh();\n}\nfunction resetGalelry() {\n  gallery.innerHTML = '';\n}\n\nexport { renderGallery, resetGalelry };\n\n//   {\n//     id: 3082832,\n//     pageURL: 'https://pixabay.com/photos/nature-waters-lake-island-3082832/',\n//     type: 'photo',\n//     tags: 'nature, waters, lake',\n//     previewURL:\n//       'https://cdn.pixabay.com/photo/2018/01/14/23/12/nature-3082832_150.jpg',\n//     previewWidth: 150,\n//     previewHeight: 84,\n//     webformatURL:\n//       'https://pixabay.com/get/g7c998dd9d2abbde659cda1f0249a3fa2121c05c2340f5013227462ad276464ac56a083ffafbe9603bfa37e7f281a24505158ecb329b975a735a6accb6bbe989d_640.jpg',\n//     webformatWidth: 640,\n//     webformatHeight: 359,\n//     largeImageURL:\n//       'https://pixabay.com/get/ge5e74ef666a59d4f737a297a84718a879748a32387afbf16eab5eac97a7886d3f7079abc1031e30220ea997546fbca49eb56427b35bb9c377856103442d31c27_1280.jpg',\n//     imageWidth: 5757,\n//     imageHeight: 3238,\n//     imageSize: 4638828,\n//     views: 7099132,\n//     downloads: 4369967,\n//     collections: 190242,\n//     likes: 5214,\n//     comments: 756,\n//     user_id: 7645255,\n//     user: 'jplenio',\n//     userImageURL:\n//       'https://cdn.pixabay.com/user/2024/06/10/13-43-32-848_250x250.jpg',\n//   },\n","const loader = document.querySelector('.loader');\nfunction loaderShow() {\n  loader.hidden = false;\n}\n\nfunction loaderHide() {\n  loader.hidden = true;\n}\n\nexport { loaderShow, loaderHide };\n","import iziToast from 'izitoast';\n\nimport { renderGallery, resetGalelry } from './render-functions';\nimport { loaderShow, loaderHide } from './loader';\n\nconst key = '29951838-c03d41fde620325ff539c52c5';\nconst baseURL = 'https://pixabay.com/api/?';\n\nfunction fetchImage(query) {\n  return new Promise((resolve, reject) => {\n    resetGalelry();\n    loaderShow();\n\n    const searchParams = new URLSearchParams({\n      key,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n      q: query || '',\n    }).toString();\n\n    fetch(baseURL + searchParams, {\n      method: 'GET',\n    })\n      .then(resolve)\n      .catch(reject);\n  })\n    .then(response => {\n      if (response.status !== 200 || !response.ok)\n        throw new Error(response.status);\n\n      return response.json();\n    })\n    .then(data => {\n      if (data.totalHits === 0) throw new Error('Empty response');\n      renderGallery(data);\n    })\n    .catch(error => {\n      iziToast.warning({\n        position: 'topRight',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n    })\n    .finally(() => {\n      loaderHide();\n    });\n}\n\nexport default fetchImage;\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport fetchImage from './js/pixabay-api';\n\nconst searchForm = document.querySelector('form');\n\nsearchForm.addEventListener('submit', event => {\n  event.preventDefault();\n  const searchValue = event.target.search.value.trim();\n  if (!searchValue)\n    return iziToast.warning({\n      position: 'topRight',\n      message: 'Please fill-in the search input',\n    });\n  fetchImage(searchValue);\n});\n"],"names":["gallery","lightBox","SimpleLightbox","renderGallery","data","markup","item","resetGalelry","loader","loaderShow","loaderHide","key","baseURL","fetchImage","query","resolve","reject","searchParams","response","error","iziToast","searchForm","event","searchValue"],"mappings":"6vBAGA,MAAMA,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAW,IAAIC,EAAe,2BAA4B,CAC9D,aAAc,IACd,aAAc,KAChB,CAAC,EACD,OAAO,OAASD,EAChB,SAASE,EAAcC,EAAM,CAC3B,IAAIC,EAAS,GAEbD,EAAK,KAAK,QAAQE,GAAQ,CACxBD,GAAU;AAAA;AAAA,uBAESC,EAAK,aAAa;AAAA,uDACcA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA,uDAIpCA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,uDAIVA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,uDAIVA,EAAK,QAAQ;AAAA;AAAA;AAAA;AAAA,uDAIbA,EAAK,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,SAMrE,CAAG,EACDN,EAAQ,UAAYK,EAAS,4BAE7BJ,EAAS,QAAO,CAClB,CACA,SAASM,GAAe,CACtBP,EAAQ,UAAY,EACtB,CC9CA,MAAMQ,EAAS,SAAS,cAAc,SAAS,EAC/C,SAASC,GAAa,CACpBD,EAAO,OAAS,EAClB,CAEA,SAASE,GAAa,CACpBF,EAAO,OAAS,EAClB,CCFA,MAAMG,EAAM,qCACNC,EAAU,4BAEhB,SAASC,EAAWC,EAAO,CACzB,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CACtCT,IACAE,IAEA,MAAMQ,EAAe,IAAI,gBAAgB,CACvC,IAAAN,EACA,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,EAAGG,GAAS,EAClB,CAAK,EAAE,SAAQ,EAEX,MAAMF,EAAUK,EAAc,CAC5B,OAAQ,KACd,CAAK,EACE,KAAKF,CAAO,EACZ,MAAMC,CAAM,CACnB,CAAG,EACE,KAAKE,GAAY,CAChB,GAAIA,EAAS,SAAW,KAAO,CAACA,EAAS,GACvC,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKd,GAAQ,CACZ,GAAIA,EAAK,YAAc,EAAG,MAAM,IAAI,MAAM,gBAAgB,EAC1DD,EAAcC,CAAI,CACxB,CAAK,EACA,MAAMe,GAAS,CACdC,EAAS,QAAQ,CACf,SAAU,WACV,QACE,0EACV,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbV,GACN,CAAK,CACL,CC1CA,MAAMW,EAAa,SAAS,cAAc,MAAM,EAEhDA,EAAW,iBAAiB,SAAUC,GAAS,CAC7CA,EAAM,eAAc,EACpB,MAAMC,EAAcD,EAAM,OAAO,OAAO,MAAM,OAC9C,GAAI,CAACC,EACH,OAAOH,EAAS,QAAQ,CACtB,SAAU,WACV,QAAS,iCACf,CAAK,EACHP,EAAWU,CAAW,CACxB,CAAC"}